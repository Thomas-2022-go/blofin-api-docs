<% var language_tabs = language_tabs || []; %>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title><%= title || "API Documentation" %></title>
    <link rel="icon" href="https://s2.blofin.com/icons/blofin/favicon-v2.ico" />
    <link href="<%= basePath %>/public/css/prism-okaidia.css" media="screen" rel="stylesheet">
    <link href="<%= basePath %>/public/css/print.css" media="print" rel="stylesheet">
    <link href="<%= basePath %>/public/css/screen.css" media="screen" rel="stylesheet">
    <script src="<%= basePath %>/public/js/lib/jquery.min.js"></script>
    <script src="<%= basePath %>/public/js/lib/jquery.highlight.js"></script>
    <script src="<%= basePath %>/public/js/lib/energize.js"></script>
    <script src="<%= basePath %>/public/js/lib/imagesloaded.min.js"></script>
    <script src="<%= basePath %>/public/js/lib/lunr.min.js"></script>
    <script src="<%= basePath %>/public/js/app/lang.js"></script>
    <script src="<%= basePath %>/public/js/app/toc.js"></script>
    <% if (search) { %>
    <script src="<%= basePath %>/public/js/app/search.js"></script>
    <% } %>
    <% if (typeof code_clipboard === 'boolean' && code_clipboard) { %>
    <script src="<%= basePath %>/public/js/app/copy.js"></script>
    <% } %>
    <script type="text/javascript">
      function adjustLanguageSelectorWidth() {
        const elem = $('.dark-box > .lang-selector');
        elem.width(elem.parent().width());
      }
      $(function() {
        loadToc($('#toc'), '.toc-link', '.toc-list-h2, .toc-list-h3, .toc-list-h4, .toc-list-h5, .toc-list-h6', 10);
        setupLanguages($('body').data('languages'));
        $('.content').imagesLoaded( function() {
          recacheHeights();
          refreshToc();
        });
        $(window).resize(function() {
          adjustLanguageSelectorWidth();
        });
        adjustLanguageSelectorWidth();
      });
      window.onpopstate = function() {
        activateLanguage(getLanguageFromQueryString());
      };
    </script>
    <script>
      var currentHref = window.location.href;
      var pathname = window.location.pathname;
      var pathArr = pathname.split('/').reverse();
      var modules = ['en'];
      var moduleType = pathArr[1];
      var moduleIndex = modules.indexOf(moduleType);
      function changeHyperlink() {
        // var hash = window.location.hash;
        // window.location.href = pathname.replace("zh","en") + hash;
      }
      function changeMenuLink(type) {
        // pathArr[1] = type;
        // window.location.href = pathArr.reverse().join('/');
      }
    </script>
    <%- include('head.ejs',{}) %>
  </head>

  <body <% if (page_classes) {%>class="<%= page_classes %>" <% } %>data-languages="<%- language_array(language_tabs) %>">
    <a href="#" id="nav-button">
      <span>
        NAV
        <%- image_tag('navbar.png','Navigation') %>
      </span>
    </a>
    <header>
      <div class="toc-left">
        <a href="https://blofin.com/">
          <svg width="80" height="20" viewBox="0 0 80 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="w-[80px] text-dark-label"><g clip-path="url(#clip0_11720_1618)"><path d="M65.1658 19.0018V6.32886H69.0462L69.341 7.94997C70.4213 6.74721 71.8951 6.18149 73.9333 6.18149C77.8138 6.18149 79.9994 8.48954 79.9994 12.591V19.0018H75.7505V12.9595C75.7505 10.7251 74.7439 9.56989 72.7543 9.56989C70.6174 9.56989 69.4147 10.7001 69.4147 12.7135V19.0006H65.1658V19.0018Z" fill="currentColor"></path><path d="M58.6196 19.0017V6.3288H62.8684V19.0017H58.6196ZM60.7315 5.19854C59.4301 5.19854 58.4235 4.26558 58.4235 3.0129C58.4235 1.76023 59.4289 0.827259 60.7315 0.827259C62.0341 0.827259 63.0396 1.76023 63.0396 3.0129C63.0396 4.26558 62.0329 5.19854 60.7315 5.19854Z" fill="currentColor"></path><path d="M43.32 19.0017V1.80893H56.9747V5.64064H47.8387V8.73548H55.5508V12.3212H47.8387V19.0017H43.32Z" fill="currentColor"></path><path d="M33.4436 19.148C28.6302 19.148 25.413 16.5689 25.413 12.6647C25.413 8.76052 28.6302 6.18149 33.4436 6.18149C38.2571 6.18149 41.4505 8.78429 41.4505 12.6647C41.4505 16.5452 38.2333 19.148 33.4436 19.148ZM33.4436 15.7596C35.7279 15.7596 37.128 14.5806 37.128 12.6647C37.128 10.7489 35.7279 9.56989 33.4436 9.56989C31.1594 9.56989 29.7355 10.7489 29.7355 12.6647C29.7355 14.5806 31.1356 15.7596 33.4436 15.7596Z" fill="currentColor"></path><path d="M19.4289 19.0017V1.80893H23.6778V19.0005H19.4289V19.0017Z" fill="currentColor"></path><path d="M15.5152 2.72179L7.46554 8.7748V12.559L16.5861 5.70016C16.5861 5.6859 16.5884 5.67283 16.5884 5.65856C16.5884 4.46769 16.2307 3.48956 15.5152 2.72179Z" fill="#FF8800"></path><path d="M15.3881 10.4078C15.2336 10.3234 15.0695 10.2485 14.896 10.1784L11.9486 12.3759C12.2635 12.6897 12.4228 13.1081 12.4228 13.6322C12.4228 14.2455 12.2124 14.7375 11.7893 15.0536C11.3674 15.3698 10.7351 15.5278 9.89127 15.5278H4.85324V4.4475H9.60009C10.268 4.4475 10.791 4.61032 11.1689 4.93478C11.3912 5.12494 11.5457 5.36026 11.6372 5.63718L15.5152 2.72061C15.2823 2.47103 15.0125 2.24284 14.7035 2.03842C13.4461 1.20647 11.6122 0.789307 9.20432 0.789307H0.000610352V19.211H9.12469C11.7976 19.211 13.8359 18.7629 15.2431 17.8692C16.6491 16.9742 17.3526 15.6764 17.3526 13.9745C17.3526 13.1497 17.1898 12.4401 16.8642 11.8423C16.5385 11.2457 16.0465 10.7679 15.3869 10.409L15.3881 10.4078Z" fill="currentColor"></path></g><defs><clipPath id="clip0_11720_1618"><rect width="80" height="20" fill="currentColor"></rect></clipPath></defs></svg>
        </a>
        <div class="toc-split-line"></div>
        <ul class="toc-nav-list">
          <li><a href="/index.html">API</a></li>
          <!-- <li><a >Change Log</a></li> -->
        </ul>
        <select class="toc-nav-dropdown" onchange="javascript:changeMenuLink(options[selectedIndex].value)">
          <option value="/">API</option>
          <!-- <option value="/">Change Log</option> -->
        </select>
      </div>

      <div class="switch-language">
        <a onclick="javascript:changeHyperlink()" class="toc-link" style="display: inline-block;" href="javascript:void(0);">English</a>
      </div>
    </header>
    <div class="toc-wrapper">
      <% if (language_tabs.length>0) {%>
        <div class="lang-selector">
          <% for (var lang in language_tabs) { %>
            <% if (typeof language_tabs[lang] === 'object') { %>
              <a href="#" data-language-name="<%= Object.keys(language_tabs[lang])[0] %>"><%= language_tabs[lang][Object.keys(language_tabs[lang])[0]] == 'shell' ? 'HTTP' : language_tabs[lang][Object.keys(language_tabs[lang])[0]] %></a>
            <% } else { %>
              <a href="#" data-language-name="<%= language_tabs[lang] %>"><%= language_tabs[lang] == 'shell' ? 'HTTP' : language_tabs[lang] %></a>
            <% } %>
          <% } %>
        </div>
      <% } %>
      <% if (search) { %>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <% } %>

      <% if (includes) { for (var partial in includes) { %>
        <% content+= md(include(includes[partial],{layout: 'markdown'})) %>
      <% } } %>

      <div id="toc" class="toc-list-h1">
	  	<ul class="toc-list-h1">
        <% for (var h1 of toc_data(content)) { %>
          <li>
            <a href="#<%= h1.id %>" class="toc-h1 toc-link" data-title="<%= h1.title %>"><%- h1.content %></a>
            <% if (h1.children && (h1.children.length > 0)) { %>
              <ul class="toc-list-h2">
                <% for (var h2 of h1.children) { %>
                  <li>
                    <a href="#<%= h2.id %>" class="toc-h2 toc-link" data-title="<%= h2.title %>"><%- h2.content %></a>
                    <% if (h2.children && (h2.children.length > 0)) { %>
                      <ul class="toc-list-h3">
                      <% for (var h3 of h2.children) { %>
                      <li>
                        <a href="#<%= h3.id %>" class="toc-h3 toc-link" data-title="<%= h3.title %>"><%- h3.content %></a>
                      </li>
                      <% } %>
                    </ul>
                    <% } %>
                  </li>
                <% } %>
              </ul>
            <% } %>
          </li>
        <% } %>
		</ul>
      </div>
      <% if (toc_footers) { %>
        <ul class="toc-footer">
          <% for (var footer in toc_footers) { %>
            <li><%- toc_footers[footer] %></li>
          <% } %>
        </ul>
      <% } %>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <%- content %>
      </div>
      <div class="dark-box">
        <% if (language_tabs && language_tabs.length) { %>
          <div class="lang-selector">
            <% for (var lang in language_tabs) { %>
              <% if (typeof language_tabs[lang] === 'object') { %>
                <a href="#" data-language-name="<%= Object.keys(language_tabs[lang])[0] %>"><%= language_tabs[lang][Object.keys(language_tabs[lang])[0]] == 'shell' ? 'HTTP' : language_tabs[lang][Object.keys(language_tabs[lang])[0]] %>  %></a>
              <% } else { %>
                <a href="#" data-language-name="<%= language_tabs[lang] %>"><%= language_tabs[lang] == 'shell' ? 'HTTP' : language_tabs[lang] %></a>
              <% } %>
            <% } %>
          </div>
        <% } %>
      </div>
    </div>
  </body>
</html>
